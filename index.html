<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>学号随机点名系统</title>
    <link rel="stylesheet" href="assets/css/style.css">
    <link rel="stylesheet" href="weui-master/dist/style/weui.min.css">
    <style>
        /* 轻量兜底，主样式在 assets/css/style.css */
        .hidden { display: none; }
    </style>
    <script defer src="assets/js/app.js"></script>
    <script>
        // 简单防抖，避免 iOS PWA 双击放大
        document.addEventListener('gesturestart', function (e) { e.preventDefault(); });
    </script>
    <link rel="icon" href="weui-master/dist/example/images/logo.png">
    <meta name="theme-color" content="#12b76a">
</head>
<body data-weui-theme="light">
    <div class="app">
        <header class="app__header">
            <div class="app__brand">
                <span class="brand__logo">🎯</span>
                <h1 class="brand__title">学号随机点名</h1>
            </div>
            <button id="btnOpenSettings" class="weui-btn weui-btn_default app__settings-btn" aria-label="打开设置">设置</button>
        </header>

        <main class="app__main">
            <section class="card card--panel">
                <div id="rangeBar" class="range-grid">
                    <div class="range-item">
                        <label for="inputMin" class="weui-label">最小学号</label>
                        <input id="inputMin" type="number" class="weui-input" placeholder="如 1" min="-999999">
                    </div>
                    <div class="range-item">
                        <label for="inputMax" class="weui-label">最大学号</label>
                        <input id="inputMax" type="number" class="weui-input" placeholder="如 50" min="-999999">
                    </div>
                    <div class="range-item">
                        <label for="inputExclude" class="weui-label">排除学号（逗号分隔）</label>
                        <input id="inputExclude" type="text" class="weui-input" placeholder="如 4, 13, 37">
                    </div>
                </div>

                

                <div class="display">
                    <div class="display__label">当前学号</div>
                    <div id="displayNumber" class="display__number">—</div>
                    <div id="displayName" class="display__name hidden">—</div>
                    <div id="displayCountdown" class="display__countdown hidden">—</div>
                </div>

                <div class="controls controls--bottom">
                    <div class="controls__primary">
                        <button class="weui-btn weui-btn_primary btn-ripple js-ripple js-start">开始滚动</button>
                        <button class="weui-btn weui-btn_warn btn-ripple js-ripple js-stop hidden">停止并点名</button>
                    </div>
                    <button id="btnAuto5s" class="weui-btn weui-btn_default btn-ripple js-ripple">5秒随机抽人</button>
                </div>
            </section>

            
        </main>

        <footer class="app__footer">
            <button id="btnToggleTheme" class="weui-btn weui-btn_default weui-btn_mini btn-ripple js-ripple">切换主题</button>
            <div class="app__meta">
                <span>基于 Cursor AI 技术(HTML5+CSS3+JavaScript)</span>
                <span class="dot">·</span>
                <span>浏览器：<span id="browserInfo">-</span></span>
                <span class="dot">·</span>
                <span>版本：v3.0.1(本次更新:优化网页UI和功能)</span>
                <span class="dot">·</span>
                <span>台州王浩哥集团有限公司 © 2025</span>
                <span class="dot">·</span>
                <span>赠送:詹珍怡及其所有朋友(请认准:zhanzhenyi.cn)</span>
            </div>
        </footer>
    </div>

    <!-- 设置弹窗 -->
    <div id="settingsSheet" class="weui-mask hidden" role="dialog" aria-modal="true">
        <div class="sheet">
            <div class="sheet__header">高级设置</div>
            <div class="sheet__content">
                <label class="weui-cell weui-cell_switch">
                    <div class="weui-cell__bd">不重复点到（抽过不再出现）</div>
                    <div class="weui-cell__ft">
                        <input id="switchNoRepeat" class="weui-switch" type="checkbox" checked>
                    </div>
                </label>
                <label class="weui-cell weui-cell_switch">
                    <div class="weui-cell__bd">滚动动画（更有仪式感）</div>
                    <div class="weui-cell__ft">
                        <input id="switchAnimate" class="weui-switch" type="checkbox" checked>
                    </div>
                </label>

                <label class="weui-cell weui-cell_switch">
                    <div class="weui-cell__bd">显示顶部范围/排除输入栏</div>
                    <div class="weui-cell__ft">
                        <input id="switchShowRangeBar" class="weui-switch" type="checkbox" checked>
                    </div>
                </label>

                <div class="weui-cell">
                    <div class="weui-cell__bd">
                        <label for="inputAutoSeconds" class="weui-label">自动抽人时长（1-10 秒）</label>
                        <input id="inputAutoSeconds" type="range" min="1" max="10" value="5" style="width:100%">
                        <div style="margin-top:6px;color:#5b776f;">当前：<span id="autoSecondsPreview">5</span> 秒</div>
                    </div>
                </div>

                <div class="weui-cells__title">自定义名单（学号-姓名，一行一个，可选）</div>
                <div class="weui-cells">
<div class="weui-cell">
<div class="weui-cell__bd">
<textarea id="textareaRoster" class="weui-textarea" placeholder="例如：\n1 张三\n2 李四\n3 王五" rows="6"></textarea>
</div>
</div>
                </div>
            </div>
            <div class="sheet__footer">
                <button id="btnSettingsCancel" class="weui-btn weui-btn_default">取消</button>
                <button id="btnSettingsSave" class="weui-btn weui-btn_primary">保存</button>
            </div>
        </div>
    </div>

</body>
</html>

